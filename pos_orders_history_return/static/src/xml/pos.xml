<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2018 Dinar Gabbasov <https://it-projects.info/team/GabbasovDinar>
     License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html). -->
<templates id="template" xml:space="preserve">

    <t t-extend="OrderHistory">
        <t t-jquery=".actions.oe_hidden" t-operation="append">
            <t t-if="!order.returned_order">
                <span class="button return">Return</span>
            </t>
        </t>
    </t>

    <t t-extend="ProductCategoriesWidget">
        <t t-jquery=".breadcrumbs" t-operation="append">
            <t t-set="order" t-value="widget.pos.get_order()"/>
            <t t-if="order and order.get_mode() === 'return'">
                <span class="breadcrumb">
                    <span class="breadcrumb-order">
                        <t t-esc="order.name"/>
                    </span>
                </span>
            </t>
        </t>
        <t t-jquery="t[t-if*='widget.subcategories.length > 0'] .categories" t-operation="replace">
            <t t-set="order" t-value="widget.pos.get_order()"/>
            <t t-if="order and order.get_mode() !== 'return'">
                <div class="categories">
                    <div class="category-list-scroller touch-scrollable">
                        <div class="category-list">
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </t>

    <t t-extend="PosTicket">
        <t t-jquery="t[t-if*='receipt.footer']" t-operation="before">
            <svg id="barcode"></svg>
        </t>
    </t>

    <!--<t t-name="XmlReceipt">-->
        <!--<receipt align='center' width='40' value-thousands-separator='' >-->
            <!--<t t-if='receipt.company.logo'>-->
                <!--<img t-att-src='receipt.company.logo' />-->
                <!--<br/>-->
            <!--</t>-->
            <!--<t t-if='!receipt.company.logo'>-->
                <!--<h1><t t-esc='receipt.company.name' /></h1>-->
                <!--<br/>-->
            <!--</t>-->
            <!--<div font='b'>-->
                <!--<t t-if='receipt.company.contact_address'>-->
                    <!--<div><t t-esc='receipt.company.contact_address' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.company.phone'>-->
                    <!--<div>Tel:<t t-esc='receipt.company.phone' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.company.vat'>-->
                    <!--<div>VAT:<t t-esc='receipt.company.vat' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.company.email'>-->
                    <!--<div><t t-esc='receipt.company.email' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.company.website'>-->
                    <!--<div><t t-esc='receipt.company.website' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.header_xml'>-->
                    <!--<t t-raw='receipt.header_xml' />-->
                <!--</t>-->
                <!--<t t-if='!receipt.header_xml and receipt.header'>-->
                    <!--<div><t t-esc='receipt.header' /></div>-->
                <!--</t>-->
                <!--<t t-if='receipt.cashier'>-->
                    <!--<div class='cashier'>-->
                        <!--<div>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;</div>-->
                        <!--<div>Served by <t t-esc='receipt.cashier' /></div>-->
                    <!--</div>-->
                <!--</t>-->
            <!--</div>-->
            <!--<br /><br />-->

            <!--&lt;!&ndash; Orderlines &ndash;&gt;-->

            <!--<div class='orderlines' line-ratio='0.6'>-->
                <!--<t t-foreach='receipt.orderlines' t-as='line'>-->
                    <!--<t t-set='simple' t-value='line.discount === 0 and line.unit_name === "Unit(s)" and line.quantity === 1' />-->
                    <!--<t t-if='simple'>-->
                        <!--<line>-->
                            <!--<left><t t-esc='line.product_name_wrapped[0]' /></left>-->
                            <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='line.price_display' /></value></right>-->
                        <!--</line>-->
                        <!--<t t-call="XmlReceiptWrappedProductNameLines"/>-->
                    <!--</t>-->
                    <!--<t t-if='!simple'>-->
                        <!--<line><left><t t-esc='line.product_name_wrapped[0]' /></left></line>-->
                        <!--<t t-call="XmlReceiptWrappedProductNameLines"/>-->
                        <!--<t t-if='line.discount !== 0'>-->
                            <!--<line indent='1'><left>Discount: <t t-esc='line.discount' />%</left></line>-->
                        <!--</t>-->
                        <!--<line indent='1'>-->
                            <!--<left>-->
                                <!--<value t-att-value-decimals='pos.dp["Product Unit of Measure"]' value-autoint='on'>-->
                                    <!--<t t-esc='line.quantity' />-->
                                <!--</value>-->
                                <!--<t t-if='line.unit_name !== "Unit(s)"'>-->
                                    <!--<t t-esc='line.unit_name' />-->
                                <!--</t>-->
                                <!--x-->
                                <!--<value t-att-value-decimals='pos.dp["Product Price"]'>-->
                                    <!--<t t-esc='line.price' />-->
                                <!--</value>-->
                            <!--</left>-->
                            <!--<right>-->
                                <!--<value t-att-value-decimals='pos.currency.decimals'><t t-esc='line.price_display' /></value>-->
                            <!--</right>-->
                        <!--</line>-->
                    <!--</t>-->
                <!--</t>-->
            <!--</div>-->

            <!--&lt;!&ndash; Subtotal &ndash;&gt;-->

            <!--<t t-set='taxincluded' t-value='Math.abs(receipt.subtotal - receipt.total_with_tax) &lt;= 0.000001' />-->
            <!--<t t-if='!taxincluded'>-->
                <!--<line><right>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;</right></line>-->
                <!--<line><left>Subtotal</left><right><value t-att-value-decimals='pos.currency.decimals'><t t-esc="receipt.subtotal" /></value></right></line>-->
                <!--<t t-foreach='receipt.tax_details' t-as='tax'>-->
                    <!--<line>-->
                        <!--<left><t t-esc='tax.name' /></left>-->
                        <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='tax.amount' /></value></right>-->
                    <!--</line>-->
                <!--</t>-->
            <!--</t>-->

            <!--&lt;!&ndash; Total &ndash;&gt;-->

            <!--<line><right>&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;</right></line>-->
            <!--<line class='total' size='double-height'>-->
                <!--<left><pre>        TOTAL</pre></left>-->
                <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.total_with_tax' /></value></right>-->
            <!--</line>-->
            <!--<br/><br/>-->

            <!--&lt;!&ndash; Payment Lines &ndash;&gt;-->

            <!--<t t-foreach='paymentlines' t-as='line'>-->
                <!--<line>-->
                    <!--<left><t t-esc='line.name' /></left>-->
                    <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='line.get_amount()'/></value></right>-->
                <!--</line>-->
            <!--</t>-->
            <!--<br/>-->

            <!--<line size='double-height'>-->
                <!--<left><pre>        CHANGE</pre></left>-->
                <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.change' /></value></right>-->
            <!--</line>-->
            <!--<br/>-->

            <!--&lt;!&ndash; Extra Payment Info &ndash;&gt;-->

            <!--<t t-if='receipt.total_discount'>-->
                <!--<line>-->
                    <!--<left>Discounts</left>-->
                    <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.total_discount'/></value></right>-->
                <!--</line>-->
            <!--</t>-->
            <!--<t t-if='taxincluded'>-->
                <!--<t t-foreach='receipt.tax_details' t-as='tax'>-->
                    <!--<line>-->
                        <!--<left><t t-esc='tax.name' /></left>-->
                        <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='tax.amount' /></value></right>-->
                    <!--</line>-->
                <!--</t>-->
                <!--<line>-->
                    <!--<left>Total Taxes</left>-->
                    <!--<right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.total_tax'/></value></right>-->
                <!--</line>-->
            <!--</t>-->

            <!--<div class='before-footer' />-->

            <!--&lt;!&ndash; Footer &ndash;&gt;-->
            <!--<t t-if='receipt.footer_xml'>-->
                <!--<t t-raw='receipt.footer_xml' />-->
            <!--</t>-->

            <!--<t t-if='!receipt.footer_xml and receipt.footer'>-->
                <!--<br/>-->
                <!--<t t-esc='receipt.footer' />-->
                <!--<br/>-->
                <!--<br/>-->
            <!--</t>-->

            <!--<div class='after-footer' />-->

            <!--<br/>-->
            <!--<div font='b'>-->
                <!--<div><t t-esc='receipt.name' /></div>-->
                <!--<div><t t-esc='receipt.date.localestring' /></div>-->
            <!--</div>-->

        <!--</receipt>-->
    <!--</t>-->

</templates>
